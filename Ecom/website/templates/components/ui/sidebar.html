{% load static %}
<div class="gi-side-cart-overlay w-full h-screen fixed top-0 left-0 bg-[#000000cc] z-[17] hidden"></div>
<div id="gi-side-cart" class="gi-side-cart w-[350px] max-[480px]:w-[300px] h-full pt-[15px] px-[20px] text-[14px] font-normal fixed z-[17] top-0 right-0 left-auto block transition-all duration-[0.5s] ease delay-0 bg-[#fff] overflow-auto">
  <div class="gi-cart-inner relative z-[9] flex flex-col h-full justify-between">
    <div class="gi-cart-top">
      <div class="gi-cart-title w-full flex flex-wrap justify-between">
        <span class="cart_title text-[15px] text-[#4b5966] font-Poppins font-semibold mb-[20px]">My Cart</span>
        <a href="javascript:void(0)" class="gi-cart-close relative border-0 text-[30px] leading-[20px] text-[#4b5966]"><i class="fi-rr-cross-small text-[20px] leading-0"></i></a>
      </div>
      {% if cart_data.product_details %}
        <ul class="gi-cart-pro-items">
          <ul>
            {% for item in cart_data.product_details %}
              <li class="mb-[15px] p-[15px] flex overflow-hidden border border-solid border-[#eee] rounded-[5px]">
                <a href="{% url 'essence:product-detail' item.pid %}" class="gi-pro-img flex grow-[1] basis-[20%] items-center"><img src="{{ item.images }}" class="w-full' %}" alt="product" /></a>
                <div class="gi-pro-content relative grow-[1] basis-[70%] pl-[15px] overflow-hidden">
                  <a href="{% url 'essence:product-detail' item.pid %}" class="cart-pro-title w-full pr-[30px] text-[#777] whitespace-normal overflow-hidden text-ellipsis block text-[15px] leading-[18px] font-normal">{{ item.title }}</a>
                  <span class="cart-price text-[14px] block mt-[5px]"><span class="text-[#777] font-semibold text-[16px]">${{ item.price }}</span></span>

                  <div class="qty-plus-minus border border-solid border-[#eee] h-[35px] overflow-hidden relative w-[85px] flex items-center justify-between py-[7px] mt-[7px]">
                    <input class="qty-input" type="number" name="gi-qtybtn" value="{{ item.qty }}" />
                  </div>
                  <a href="javascript:void(0)" class="remove leading-[15px] absolute top-0 right-0 pl-[10px] text-[#ff0000] text-[22px]">Ã—</a>
                  <p class="text-[14px] font-medium text-gray-700 mt-2">Total: {{ item.product_by_amount }}</p>
                </div>
              </li>
            {% endfor %}
          </ul>
        </ul>
      {% else %}
        <p>{{ cart_data.message }}</p>
      {% endif %}
    </div>
    {% if cart_data.cart_data_obj %}
      <div class="gi-cart-bottom">
        <div class="cart-sub-total flex flex-wrap justify-between pt-0 pb-[8px] border-t border-solid border-[#eee] mt-[20px]">
          <table class="table cart-table w-full">
            <tbody class="mt-[10px]">
              <tr>
                <td class="text-left font-medium text-[#777] p-[6px]">Item :</td>
                <td class="text-right font-bold text-[#777] p-[6px]">{{ cart_data.total_items }}</td>
              </tr>
              <tr>
                <td class="text-left font-medium text-[#777] p-[6px]">Total :</td>
                <td class="text-right font-bold text-[#777] primary-color p-[6px]">${{ cart_data.all_total_amount }}</td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="cart_btn flex justify-between mb-[20px]">
          <a href="cart.html" class="gi-btn-1 w-[48%] h-[40px] block uppercase font-semibold text-[14px] py-[8px] px-[15px] leading-[22px] bg-[#4b5966] text-[#fff] border-0 transition-all duration-[0.3s] ease-in-out overflow-hidden text-center relative rounded-[5px] hover:bg-[#5caf90] hover:text-[#fff]">View Cart</a>
          <a href="checkout.html" class="gi-btn-2 w-[48%] h-[40px] block uppercase font-semibold text-[14px] py-[8px] px-[15px] leading-[22px] bg-[#5caf90] text-[#fff] text-center rounded-[5px] transition-all dummy-[0.3s] ease-in-out hover:bg-[#4b5966]">Checkout</a>
        </div>
      </div>
    {% endif %}
  </div>
</div>
